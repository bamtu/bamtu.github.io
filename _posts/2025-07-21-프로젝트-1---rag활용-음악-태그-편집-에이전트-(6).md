---
layout: post
title:  "AI agent 평가 - RAG활용 음악 태그 편집 에이전트 (6)"
date:   2025-07-21 23:47:07 +0900
categories: AIagent
---

### 음악 태그 편집 에이전트의 평가
---

이전 포스트에서 RAGAS를 이용해 합성 데이터셋을 만들고, 그것을 활용해 RAG pipeline을 평가하려고 시도했었다. 하지만 내 에이전트에 한해서는, 잘 되지않았다. 그래서 고민하다가 생각해낸 방법은 이렇다. 

먼저 에이전트를 거치지않은 음원파일의 메타정보를 전부 csv파일에 옮긴다(1). 그리고 pandas 라이브러리를 이용해 (1)에서 만들었던 csv파일의 내용을 일괄적으로 바꾼다, 그래서 레퍼런스를 만든다(2). 그 다음, 에이전트를 이용해 음원파일들의 메타정보를 바꾼 후에, pandas 라이브러리의 기능을 이용해 그 음원파일의 메타정보를 (2)와 비교하여 차이점을 찾는다. 결과적으로, 차이점의 개수만큼 에이전트는 실수한 것이다.

ChatGPT를 이용하여 메타정보를 바꾸는 요청과 pandas를 이용해 데이터 변경을 하는 코드를 같이 생성한다.

테스트하고있는 음원파일의 대상은 2,629 개이고, 에이전트를 이용해 한 번에 메타정보를 변경하는 곡의 개수는 수 십개, 수 백개 정도 된다.



### 추가
---
그리고 RAGAS를 이용해 합성 데이터셋을 생성하는 방법은 비용도 비싸다. API와 interaction이 많아, 데이터셋 하나를 생성하는데 약 5,000원 정도의 비용이 든다고 알고있다.